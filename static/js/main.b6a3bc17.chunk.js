(this.webpackJsonpapp_tareas=this.webpackJsonpapp_tareas||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(16),s=a.n(r),i=a(34),o=a(35),l=a(14),u=a(17),d=a.n(u),j=a(23),b=a(18),f=a(32),x=(a(49),f.a.initializeApp({apiKey:"AIzaSyCRGOxScR4Z2MNKlN-_sKcTxGJxmbgPAM0",authDomain:"crud-tareas-246ab.firebaseapp.com",projectId:"crud-tareas-246ab",storageBucket:"crud-tareas-246ab.appspot.com",messagingSenderId:"849120399047",appId:"1:849120399047:web:26cab1648e45307053b8e2"}).firestore()),m=a(26),O=a(15),p=a(13),h=a(21),g=a(5);function v(e){console.log(e.setidActual);var t={titulo:"",descripcion:""},a=Object(c.useState)(t),n=Object(b.a)(a,2),r=n[0],s=n[1],i=function(e){console.log(e.target);var t=e.target,a=t.name,c=t.value;s(Object(l.a)(Object(l.a)({},r),{},Object(m.a)({},a,c))),console.log(r)},o=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("Tareas").doc(t).get();case 2:a=e.sent,s(Object(l.a)({},a.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log(e.idActual),""===e.idActual?s(Object(l.a)({},t)):o(e.idActual)}),[e.idActual]),Object(g.jsx)(h.a,{className:"col-12 col-md-4 mt-md-4",children:Object(g.jsxs)(O.a,{onSubmit:function(a){a.preventDefault(),e.agregarTarea(r),s(Object(l.a)({},t))},children:[Object(g.jsxs)(O.a.Group,{className:"mt-2",children:[Object(g.jsx)(O.a.Label,{className:"fw-bolder text-muted",children:"Titulo:"}),Object(g.jsx)(O.a.Control,{className:"bg-dark text-white",autoComplete:"off",required:!0,type:"text",name:"titulo",value:r.titulo,onChange:i})]}),Object(g.jsxs)(O.a.Group,{className:"mt-2",children:[Object(g.jsx)(O.a.Label,{className:"fw-bolder text-muted",children:"Descripci\xf3n:"}),Object(g.jsx)(O.a.Control,{className:"bg-dark text-white",autoComplete:"off",required:!0,type:"text",name:"descripcion",value:r.descripcion,onChange:i})]}),Object(g.jsxs)(O.a.Group,{className:"d-flex justify-content-center",children:[Object(g.jsx)(p.a,{type:"submit",variant:"info",className:"m-3",size:"lg",block:!0,children:""===e.idActual?"Guardar":"Actualizar"}),e.idActual&&Object(g.jsx)(p.a,{variant:"danger",className:"m-3",size:"lg",onClick:function(){e.setidActual("")},block:!0,children:"Cancelar"})]})]})})}var N=a(22),k=a(33),w=a(25);function C(e){var t=e.modal,a=e.setId,c=e.data;return Object(g.jsx)(w.a,{className:"col-12 mt-3 border border-1 border-dark",children:Object(g.jsxs)(w.a.Body,{children:[Object(g.jsx)(w.a.Title,{className:"text-info fw-bold",children:c.titulo}),Object(g.jsx)(w.a.Text,{className:"text-muted",children:c.descripcion}),Object(g.jsx)(p.a,{className:"m-2",size:"sm",variant:"warning",onClick:function(){return a(c.id)},children:Object(g.jsx)("i",{className:"far fa-edit"})}),Object(g.jsx)(p.a,{variant:"danger",size:"sm",onClick:function(){return t(c.id)},children:Object(g.jsx)("i",{class:"far fa-trash-alt"})})]})})}function y(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(!1),f=Object(b.a)(u,2),m=f[0],O=f[1],w=Object(c.useState)(!0),y=Object(b.a)(w,2),A=y[0],T=y[1],S=Object(c.useState)(),E=Object(b.a)(S,2),I=E[0],z=E[1],F=function(){return O(!1)},B=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!=i){e.next=6;break}return e.next=4,x.collection("Tareas").doc().set(t);case 4:e.next=9;break;case 6:return e.next=8,x.collection("Tareas").doc(i).update(t);case 8:o("");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){O(!0),function(e){z(e)}(e)},D=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.collection("Tareas").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),n(t),T(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){D()}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(N.a,{animation:!1,show:m,onHide:F,backdrop:"static",keyboard:!1,children:[Object(g.jsx)(N.a.Header,{closeButton:!0,children:Object(g.jsx)(N.a.Title,{children:"Eliminar"})}),Object(g.jsx)(N.a.Body,{children:"\xbfEstas seguro que quieres eliminar esta tarea?"}),Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(p.a,{variant:"secondary",onClick:F,children:"Cerrar"}),Object(g.jsx)(p.a,{variant:"danger",onClick:function(){x.collection("Tareas").doc(I).delete(),F()},children:"Eliminar"})]})]})}),Object(g.jsx)("h2",{className:"text-center text-info mt-4 fw-bold",children:"CRUD TAREAS"}),Object(g.jsx)(v,{agregarTarea:B,obtenerTareas:D,idActual:i,setidActual:o}),Object(g.jsx)(h.a,{className:"col-12 col-md-8 d-flex flex-wrap justify-content-center mt-4 ",children:A?Object(g.jsx)("div",{className:"col-12 mt-5 text-center",children:Object(g.jsx)(k.a,{animation:"border",role:"status",variant:"info",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):a.map((function(e){return Object(g.jsx)(C,{data:e,modal:G,setId:o})}))},a.id)]})}a(46);var A=function(){return Object(g.jsx)(i.a,{className:"app",fluid:"md",children:Object(g.jsx)(o.a,{children:Object(g.jsx)(y,{})})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(47);s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(A,{})}),document.getElementById("root")),T()}},[[48,1,2]]]);
//# sourceMappingURL=main.b6a3bc17.chunk.js.map