(this.webpackJsonpapp_tareas=this.webpackJsonpapp_tareas||[]).push([[0],{207:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(28),s=a.n(r),i=a(95),o=a(96),l=a(20),d=a(9),u=a.n(d),j=a(16),b=a(13),O=a(88),f=(a(209),O.a.initializeApp({apiKey:"AIzaSyCRGOxScR4Z2MNKlN-_sKcTxGJxmbgPAM0",authDomain:"crud-tareas-246ab.firebaseapp.com",projectId:"crud-tareas-246ab",storageBucket:"crud-tareas-246ab.appspot.com",messagingSenderId:"849120399047",appId:"1:849120399047:web:26cab1648e45307053b8e2"}).firestore()),m=a(23),x=a(25),p=a(92),h=a(24),g=a(35),v=a(29),N=a(97),k=a(52),w=a(5);function C(e){var t,a,n=k.a().shape({titulo:k.b().required("El titulo de la tarea es obligatorio"),descripcion:k.b().required("La descripcion de la tarea es obligatoria")}),r=Object(v.d)({resolver:Object(N.a)(n)}),s=r.register,i=r.handleSubmit,o=r.reset,d=r.formState.errors;console.log(e.setidActual);var O={titulo:"",descripcion:""},C=Object(c.useState)(O),y=Object(b.a)(C,2),S=y[0],A=y[1],T=function(e){console.log(e.target);var t=e.target,a=t.name,c=t.value;A(Object(l.a)(Object(l.a)({},S),{},Object(m.a)({},a,c))),console.log(S)},E=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("Tareas").doc(t).get();case 2:a=e.sent,A(Object(l.a)({},a.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log(e.idActual),""===e.idActual?A(Object(l.a)({},O)):E(e.idActual)}),[e.idActual]),Object(w.jsx)(g.a,{className:"col-12 col-md-4 mt-md-4",children:Object(w.jsxs)(x.a,{onSubmit:i((function(t){console.log(JSON.stringify(t,null,2)),e.agregarTarea(S),A(Object(l.a)({},O))})),children:[Object(w.jsxs)(x.a.Group,{className:"mt-2",children:[Object(w.jsx)(x.a.Label,{className:"fw-bolder text-muted",children:"Titulo:"}),Object(w.jsx)(x.a.Control,Object(l.a)(Object(l.a)({className:"form-control bg-dark text-white ".concat(d.titulo?"is-invalid":"")},s("titulo")),{},{autoComplete:"off",type:"text",name:"titulo",value:S.titulo,onChange:T})),Object(w.jsx)(p.a,{className:"invalid-feedback",children:null===(t=d.titulo)||void 0===t?void 0:t.message})]}),Object(w.jsxs)(x.a.Group,{className:"mt-2",children:[Object(w.jsx)(x.a.Label,{className:"fw-bolder text-muted",children:"Descripci\xf3n:"}),Object(w.jsx)(x.a.Control,Object(l.a)(Object(l.a)({className:"form-control bg-dark text-white ".concat(d.descripcion?"is-invalid":"")},s("descripcion")),{},{autoComplete:"off",type:"text",name:"descripcion",value:S.descripcion,onChange:T})),Object(w.jsx)(p.a,{className:"invalid-feedback",children:null===(a=d.descripcion)||void 0===a?void 0:a.message})]}),Object(w.jsxs)(x.a.Group,{className:"d-flex justify-content-center",children:[Object(w.jsx)(h.a,{type:"submit",variant:"info",className:"m-3",size:"lg",block:!0,children:""===e.idActual?"Guardar":"Actualizar"}),e.idActual&&Object(w.jsx)(h.a,{variant:"danger",className:"m-3",size:"lg",onClick:function(){o(),e.setidActual("")},block:!0,children:"Cancelar"})]})]})})}var y=a(36),S=a(94),A=a(42);function T(e){var t=e.modal,a=e.setId,c=e.data;return Object(w.jsx)(A.a,{className:"col-12 mt-3 border border-1 border-dark",children:Object(w.jsxs)(A.a.Body,{children:[Object(w.jsx)(A.a.Title,{className:"text-info fw-bold",children:c.titulo}),Object(w.jsx)(A.a.Text,{className:"text-muted",children:c.descripcion}),Object(w.jsx)(h.a,{className:"m-2",size:"sm",variant:"warning",onClick:function(){return a(c.id)},children:Object(w.jsx)("i",{className:"far fa-edit"})}),Object(w.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){return t(c.id)},children:Object(w.jsx)("i",{class:"far fa-trash-alt"})})]})})}function E(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(!1),O=Object(b.a)(d,2),m=O[0],x=O[1],p=Object(c.useState)(!0),v=Object(b.a)(p,2),N=v[0],k=v[1],A=Object(c.useState)(),E=Object(b.a)(A,2),I=E[0],z=E[1],F=function(){return x(!1)},B=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!=i){e.next=6;break}return e.next=4,f.collection("Tareas").doc().set(t);case 4:e.next=9;break;case 6:return e.next=8,f.collection("Tareas").doc(i).update(t);case 8:o("");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){x(!0),function(e){z(e)}(e)},L=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.collection("Tareas").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),n(t),k(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){L()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(y.a,{animation:!1,show:m,onHide:F,backdrop:"static",keyboard:!1,children:[Object(w.jsx)(y.a.Header,{closeButton:!0,children:Object(w.jsx)(y.a.Title,{children:"Eliminar"})}),Object(w.jsx)(y.a.Body,{children:"\xbfEstas seguro que quieres eliminar esta tarea?"}),Object(w.jsxs)(y.a.Footer,{children:[Object(w.jsx)(h.a,{variant:"secondary",onClick:F,children:"Cerrar"}),Object(w.jsx)(h.a,{variant:"danger",onClick:function(){f.collection("Tareas").doc(I).delete(),F()},children:"Eliminar"})]})]})}),Object(w.jsx)("h2",{className:"text-center text-info mt-4 fw-bold",children:"CRUD TAREAS"}),Object(w.jsx)(C,{agregarTarea:B,obtenerTareas:L,idActual:i,setidActual:o}),Object(w.jsx)(g.a,{className:"col-12 col-md-8 d-flex flex-wrap justify-content-center mt-4 ",children:N?Object(w.jsx)("div",{className:"col-12 mt-5 text-center",children:Object(w.jsx)(S.a,{animation:"border",role:"status",variant:"info",children:Object(w.jsx)("span",{className:"sr-only",children:"Loading..."})})}):a.map((function(e){return Object(w.jsx)(T,{data:e,modal:G,setId:o})}))},a.id)]})}a(206);var I=function(){return Object(w.jsx)(i.a,{className:"app",fluid:"md",children:Object(w.jsx)(o.a,{children:Object(w.jsx)(E,{})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,212)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(207);s.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(I,{})}),document.getElementById("root")),z()}},[[208,1,2]]]);
//# sourceMappingURL=main.31557636.chunk.js.map